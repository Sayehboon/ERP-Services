{
  "openapi": "3.0.1",
  "info": {
    "title": "Dinawin ERP API",
    "description": "سیستم جامع مدیریت منابع سازمانی دیناوین با معماری DDD و الگوی CQRS",
    "contact": {
      "name": "Dinawin ERP Team",
      "email": "support@dinawin.com"
    },
    "version": "v1"
  },
  "paths": {
    "/api/Accounts": {
      "get": {
        "tags": [
          "Accounts"
        ],
        "summary": "لیست حساب‌های فعال\r\nGet active accounts",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AccountDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/Brands": {
      "get": {
        "tags": [
          "Brands"
        ],
        "summary": "دریافت لیست تمام برندها\r\nGets all brands with optional filtering",
        "parameters": [
          {
            "name": "searchTerm",
            "in": "query",
            "description": "عبارت جستجو",
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isActive",
            "in": "query",
            "description": "وضعیت فعال/غیرفعال",
            "style": "form",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "شماره صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "تعداد آیتم در هر صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25
            }
          }
        ],
        "responses": {
          "200": {
            "description": "لیست برندها با موفقیت بازگردانده شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BrandDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Brands"
        ],
        "summary": "ایجاد برند جدید\r\nCreates a new brand",
        "responses": {
          "201": {
            "description": "برند با موفقیت ایجاد شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "uuid"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Brands/{id}": {
      "get": {
        "tags": [
          "Brands"
        ],
        "summary": "دریافت برند با شناسه\r\nGets a brand by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه برند",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "برند پیدا شد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BrandDto"
                }
              }
            }
          },
          "404": {
            "description": "برند پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Brands"
        ],
        "summary": "ویرایش برند\r\nUpdates an existing brand",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه برند",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "برند با موفقیت ویرایش شد"
          },
          "404": {
            "description": "برند پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Brands"
        ],
        "summary": "حذف برند\r\nDeletes a brand",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه برند",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "برند با موفقیت حذف شد"
          },
          "404": {
            "description": "برند پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Categories": {
      "get": {
        "tags": [
          "Categories"
        ],
        "summary": "دریافت لیست تمام دسته‌بندی‌ها\r\nGets all categories with optional filtering",
        "parameters": [
          {
            "name": "searchTerm",
            "in": "query",
            "description": "عبارت جستجو",
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "parentCategoryId",
            "in": "query",
            "description": "شناسه دسته‌بندی والد",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "isActive",
            "in": "query",
            "description": "وضعیت فعال/غیرفعال",
            "style": "form",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "شماره صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "تعداد آیتم در هر صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25
            }
          }
        ],
        "responses": {
          "200": {
            "description": "لیست دسته‌بندی‌ها با موفقیت بازگردانده شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CategoryDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Categories"
        ],
        "summary": "ایجاد دسته‌بندی جدید\r\nCreates a new category",
        "responses": {
          "201": {
            "description": "دسته‌بندی با موفقیت ایجاد شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "uuid"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Categories/{id}": {
      "get": {
        "tags": [
          "Categories"
        ],
        "summary": "دریافت دسته‌بندی با شناسه\r\nGets a category by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه دسته‌بندی",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "دسته‌بندی پیدا شد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CategoryDto"
                }
              }
            }
          },
          "404": {
            "description": "دسته‌بندی پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Categories"
        ],
        "summary": "ویرایش دسته‌بندی\r\nUpdates an existing category",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه دسته‌بندی",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "دسته‌بندی با موفقیت ویرایش شد"
          },
          "404": {
            "description": "دسته‌بندی پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Categories"
        ],
        "summary": "حذف دسته‌بندی\r\nDeletes a category",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه دسته‌بندی",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "دسته‌بندی با موفقیت حذف شد"
          },
          "404": {
            "description": "دسته‌بندی پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Customers": {
      "get": {
        "tags": [
          "Customers"
        ],
        "summary": "لیست مشتریان فعال\r\nGet active customers",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "style": "form",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CustomerDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/Inventory/overview": {
      "get": {
        "tags": [
          "Inventory"
        ],
        "summary": "دریافت نمای کلی موجودی\r\nGets inventory overview with optional filtering",
        "parameters": [
          {
            "name": "warehouseId",
            "in": "query",
            "description": "شناسه انبار",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "productId",
            "in": "query",
            "description": "شناسه کالا",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "lowStockOnly",
            "in": "query",
            "description": "فقط موجودی‌های کم",
            "style": "form",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "reorderOnly",
            "in": "query",
            "description": "فقط موجودی‌های نیازمند سفارش مجدد",
            "style": "form",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "شماره صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "تعداد آیتم در هر صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25
            }
          }
        ],
        "responses": {
          "200": {
            "description": "نمای کلی موجودی با موفقیت بازگردانده شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/InventoryDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/Inventory/warehouses": {
      "get": {
        "tags": [
          "Inventory"
        ],
        "summary": "دریافت لیست انبارها\r\nGets list of warehouses",
        "responses": {
          "200": {
            "description": "لیست انبارها با موفقیت بازگردانده شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WarehouseDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/Inventory/stock-alert/{inventoryId}": {
      "put": {
        "tags": [
          "Inventory"
        ],
        "summary": "بروزرسانی حداقل موجودی هشدار\r\nUpdates minimum stock alert level",
        "parameters": [
          {
            "name": "inventoryId",
            "in": "path",
            "description": "شناسه موجودی",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "حداقل موجودی جدید",
          "content": {
            "application/json": {
              "schema": {
                "type": "number",
                "format": "double"
              }
            },
            "text/json": {
              "schema": {
                "type": "number",
                "format": "double"
              }
            },
            "application/*+json": {
              "schema": {
                "type": "number",
                "format": "double"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "حداقل موجودی با موفقیت بروزرسانی شد"
          },
          "404": {
            "description": "موجودی پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Inventory/movements": {
      "get": {
        "tags": [
          "Inventory"
        ],
        "summary": "دریافت حرکات موجودی\r\nGets inventory movements",
        "parameters": [
          {
            "name": "productId",
            "in": "query",
            "description": "شناسه کالا",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "warehouseId",
            "in": "query",
            "description": "شناسه انبار",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "شماره صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "تعداد آیتم در هر صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25
            }
          }
        ],
        "responses": {
          "200": {
            "description": "لیست حرکات موجودی با موفقیت بازگردانده شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/InventoryMovementDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Inventory"
        ],
        "summary": "ایجاد حرکت موجودی جدید\r\nCreates a new inventory movement",
        "responses": {
          "201": {
            "description": "حرکت موجودی با موفقیت ایجاد شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "uuid"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Products": {
      "get": {
        "tags": [
          "Products"
        ],
        "summary": "دریافت لیست تمام کالاها\r\nGets all products with optional filtering",
        "parameters": [
          {
            "name": "searchTerm",
            "in": "query",
            "description": "عبارت جستجو",
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "brandId",
            "in": "query",
            "description": "شناسه برند",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "categoryId",
            "in": "query",
            "description": "شناسه دسته‌بندی",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "isActive",
            "in": "query",
            "description": "وضعیت فعال/غیرفعال",
            "style": "form",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "شماره صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "تعداد آیتم در هر صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25
            }
          }
        ],
        "responses": {
          "200": {
            "description": "لیست کالاها با موفقیت بازگردانده شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Products"
        ],
        "summary": "ایجاد کالای جدید\r\nCreates a new product",
        "requestBody": {
          "description": "اطلاعات کالای جدید",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductCommand"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductCommand"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductCommand"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "کالا با موفقیت ایجاد شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "uuid"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Products/{id}": {
      "get": {
        "tags": [
          "Products"
        ],
        "summary": "دریافت کالا با شناسه\r\nGets a product by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه کالا",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "کالا پیدا شد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductDto"
                }
              }
            }
          },
          "404": {
            "description": "کالا پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Products"
        ],
        "summary": "ویرایش کالا\r\nUpdates an existing product",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه کالا",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductCommand"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductCommand"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductCommand"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "کالا با موفقیت ویرایش شد"
          },
          "404": {
            "description": "کالا پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Products"
        ],
        "summary": "حذف کالا\r\nDeletes a product",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه کالا",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "کالا با موفقیت حذف شد"
          },
          "404": {
            "description": "کالا پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/SalesInvoices": {
      "get": {
        "tags": [
          "SalesInvoices"
        ],
        "summary": "دریافت لیست تمام فاکتورهای فروش\r\nGets all sales invoices with optional filtering",
        "parameters": [
          {
            "name": "customerId",
            "in": "query",
            "description": "شناسه مشتری",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "وضعیت فاکتور",
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "fromDate",
            "in": "query",
            "description": "از تاریخ",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "toDate",
            "in": "query",
            "description": "تا تاریخ",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "شماره صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "تعداد آیتم در هر صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25
            }
          }
        ],
        "responses": {
          "200": {
            "description": "لیست فاکتورهای فروش با موفقیت بازگردانده شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SalesInvoiceDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "SalesInvoices"
        ],
        "summary": "ایجاد فاکتور فروش جدید\r\nCreates a new sales invoice",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSalesInvoiceCommand"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSalesInvoiceCommand"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSalesInvoiceCommand"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "فاکتور با موفقیت ایجاد شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "uuid"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/SalesInvoices/{id}": {
      "get": {
        "tags": [
          "SalesInvoices"
        ],
        "summary": "دریافت فاکتور فروش با شناسه\r\nGets a sales invoice by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه فاکتور",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "فاکتور پیدا شد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SalesInvoiceDto"
                }
              }
            }
          },
          "404": {
            "description": "فاکتور پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "SalesInvoices"
        ],
        "summary": "ویرایش فاکتور فروش\r\nUpdates an existing sales invoice",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه فاکتور",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "فاکتور با موفقیت ویرایش شد"
          },
          "404": {
            "description": "فاکتور پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "SalesInvoices"
        ],
        "summary": "حذف فاکتور فروش\r\nDeletes a sales invoice",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه فاکتور",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "فاکتور با موفقیت حذف شد"
          },
          "404": {
            "description": "فاکتور پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/SalesInvoices/{id}/post": {
      "post": {
        "tags": [
          "SalesInvoices"
        ],
        "summary": "ثبت فاکتور فروش در دفتر کل\r\nPosts a sales invoice to general ledger",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه فاکتور",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "فاکتور با موفقیت ثبت شد"
          },
          "404": {
            "description": "فاکتور پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "فاکتور قابل ثبت نیست",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Users": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "دریافت لیست تمام کاربران\r\nGets all users with optional filtering",
        "parameters": [
          {
            "name": "searchTerm",
            "in": "query",
            "description": "عبارت جستجو",
            "style": "form",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "companyId",
            "in": "query",
            "description": "شناسه شرکت",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "departmentId",
            "in": "query",
            "description": "شناسه بخش",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "roleId",
            "in": "query",
            "description": "شناسه نقش",
            "style": "form",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "isActive",
            "in": "query",
            "description": "وضعیت فعال/غیرفعال",
            "style": "form",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "شماره صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "تعداد آیتم در هر صفحه",
            "style": "form",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 25
            }
          }
        ],
        "responses": {
          "200": {
            "description": "لیست کاربران با موفقیت بازگردانده شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserProfileDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "ایجاد کاربر جدید\r\nCreates a new user",
        "responses": {
          "201": {
            "description": "کاربر با موفقیت ایجاد شد",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "format": "uuid"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Users/{id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "دریافت کاربر با شناسه\r\nGets a user by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه کاربر",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "کاربر پیدا شد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserProfileDto"
                }
              }
            }
          },
          "404": {
            "description": "کاربر پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "ویرایش کاربر\r\nUpdates an existing user",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه کاربر",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "کاربر با موفقیت ویرایش شد"
          },
          "404": {
            "description": "کاربر پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Users/{id}/toggle-status": {
      "patch": {
        "tags": [
          "Users"
        ],
        "summary": "تغییر وضعیت کاربر\r\nToggle user status (active/inactive)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "شناسه کاربر",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "وضعیت فعلی کاربر",
          "content": {
            "application/json": {
              "schema": {
                "type": "boolean"
              }
            },
            "text/json": {
              "schema": {
                "type": "boolean"
              }
            },
            "application/*+json": {
              "schema": {
                "type": "boolean"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "وضعیت کاربر با موفقیت تغییر کرد"
          },
          "404": {
            "description": "کاربر پیدا نشد",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "اطلاعات ارسالی نامعتبر است",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AccountDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "BrandDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "productCount": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "CategoryDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "parentCategoryId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "parentCategoryName": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "sortOrder": {
            "type": "integer",
            "format": "int32"
          },
          "productCount": {
            "type": "integer",
            "format": "int32"
          },
          "subcategoryCount": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "CreateProductCommand": {
        "type": "object",
        "properties": {
          "sku": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "brandId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "categoryId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "baseUomId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "priceBuy": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "priceSell": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "minStockLevel": {
            "type": "number",
            "format": "double"
          },
          "maxStockLevel": {
            "type": "number",
            "format": "double"
          },
          "reorderPoint": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "CreateSalesInvoiceCommand": {
        "type": "object",
        "properties": {
          "customerId": {
            "type": "string",
            "format": "uuid"
          },
          "invoiceDate": {
            "type": "string",
            "format": "date-time"
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "lineItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateSalesInvoiceLineDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CreateSalesInvoiceLineDto": {
        "type": "object",
        "properties": {
          "accountId": {
            "type": "string",
            "format": "uuid"
          },
          "quantity": {
            "type": "number",
            "format": "double"
          },
          "unitPrice": {
            "type": "number",
            "format": "double"
          },
          "lineDiscount": {
            "type": "number",
            "format": "double"
          },
          "taxRate": {
            "type": "number",
            "format": "double"
          },
          "taxAmount": {
            "type": "number",
            "format": "double"
          },
          "description": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CustomerDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "InventoryDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "productId": {
            "type": "string",
            "format": "uuid"
          },
          "productName": {
            "type": "string",
            "nullable": true
          },
          "productSku": {
            "type": "string",
            "nullable": true
          },
          "warehouseId": {
            "type": "string",
            "format": "uuid"
          },
          "warehouseName": {
            "type": "string",
            "nullable": true
          },
          "quantity": {
            "type": "number",
            "format": "double"
          },
          "reservedQuantity": {
            "type": "number",
            "format": "double"
          },
          "availableQuantity": {
            "type": "number",
            "format": "double"
          },
          "avgCost": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "lastPurchaseCost": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "minStockAlert": {
            "type": "number",
            "format": "double"
          },
          "maxStockLevel": {
            "type": "number",
            "format": "double"
          },
          "reorderPoint": {
            "type": "number",
            "format": "double"
          },
          "safetyStock": {
            "type": "number",
            "format": "double"
          },
          "isLowStock": {
            "type": "boolean"
          },
          "needsReorder": {
            "type": "boolean"
          },
          "lastMovementDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "InventoryMovementDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "productName": {
            "type": "string",
            "nullable": true
          },
          "warehouseName": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "quantity": {
            "type": "number",
            "format": "double"
          },
          "unitCost": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "totalValue": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "balanceBefore": {
            "type": "number",
            "format": "double"
          },
          "balanceAfter": {
            "type": "number",
            "format": "double"
          },
          "referenceNumber": {
            "type": "string",
            "nullable": true
          },
          "reason": {
            "type": "string",
            "nullable": true
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "movementDate": {
            "type": "string",
            "format": "date-time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "ProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": { }
      },
      "ProductDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "sku": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "brandId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "brandName": {
            "type": "string",
            "nullable": true
          },
          "categoryId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "categoryName": {
            "type": "string",
            "nullable": true
          },
          "baseUomId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "baseUomName": {
            "type": "string",
            "nullable": true
          },
          "priceBuy": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "priceSell": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "stockQuantity": {
            "type": "number",
            "format": "double"
          },
          "minStockLevel": {
            "type": "number",
            "format": "double"
          },
          "maxStockLevel": {
            "type": "number",
            "format": "double"
          },
          "reorderPoint": {
            "type": "number",
            "format": "double"
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "SalesInvoiceDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "number": {
            "type": "string",
            "nullable": true
          },
          "invoiceDate": {
            "type": "string",
            "format": "date-time"
          },
          "customerId": {
            "type": "string",
            "format": "uuid"
          },
          "customerName": {
            "type": "string",
            "nullable": true
          },
          "total": {
            "type": "number",
            "format": "double"
          },
          "tax": {
            "type": "number",
            "format": "double"
          },
          "discount": {
            "type": "number",
            "format": "double"
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "isPosted": {
            "type": "boolean",
            "readOnly": true
          },
          "isDraft": {
            "type": "boolean",
            "readOnly": true
          }
        },
        "additionalProperties": false
      },
      "UpdateProductCommand": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "sku": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "brandId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "categoryId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "baseUomId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "priceBuy": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "priceSell": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "minStockLevel": {
            "type": "number",
            "format": "double"
          },
          "maxStockLevel": {
            "type": "number",
            "format": "double"
          },
          "reorderPoint": {
            "type": "number",
            "format": "double"
          },
          "isActive": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "UserProfileDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "firstName": {
            "type": "string",
            "nullable": true
          },
          "lastName": {
            "type": "string",
            "nullable": true
          },
          "fullName": {
            "type": "string",
            "nullable": true,
            "readOnly": true
          },
          "username": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "phoneNumber": {
            "type": "string",
            "nullable": true
          },
          "avatarUrl": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "isEmailVerified": {
            "type": "boolean"
          },
          "isPhoneVerified": {
            "type": "boolean"
          },
          "lastLoginAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "companyId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "companyName": {
            "type": "string",
            "nullable": true
          },
          "departmentId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "departmentName": {
            "type": "string",
            "nullable": true
          },
          "roleName": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "WarehouseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "capacity": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "isMainWarehouse": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      }
    }
  }
}